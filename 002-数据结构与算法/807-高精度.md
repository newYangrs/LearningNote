## 高精度

### 一、高精度加法

- **思想：**
  1. 数据从低位到高位存储到数组中
  2. 进行加法模拟
  3. A+B  ，log(A)<=10^6^ ,log(B)<=10^6^

- **模板：**

  ```c++
  // C = A + B, A >= 0, B >= 0
  vector<int> add(vector<int> &A, vector<int> &B)
  {
      if (A.size() < B.size()) return add(B, A);
  
      vector<int> C;
      int t = 0;
      for (int i = 0; i < A.size(); i ++ )
      {
          t += A[i];
          if (i < B.size()) t += B[i];
          C.push_back(t % 10);
          t /= 10;
      }
  
      if (t) C.push_back(t);
      return C;
  }
  ```

  



### 二、高精度减法

- **思路：**

  1. 先判断A和B的大小，用大的减小的
  2. 进行减法运算

- **模板：**

  ```c++
  // C = A - B, 满足A >= B, A >= 0, B >= 0
  vector<int> sub(vector<int> &A, vector<int> &B)
  {
      vector<int> C;
      for (int i = 0, t = 0; i < A.size(); i ++ )
      {
          t = A[i] - t;
          if (i < B.size()) t -= B[i];
          C.push_back((t + 10) % 10);
          if (t < 0) t = 1;
          else t = 0;
      }
  
      while (C.size() > 1 && C.back() == 0) C.pop_back();
      return C;
  }
  ```

  



### 三、高精度乘法

- **思路：**

  1. Axb ,log(A)<=10^6^ ,a<=10^9^
  2. 进行乘法运算
  3. 清除高位的0

- **模板：**

  ```c++
  // C = A * b, A >= 0, b > 0
  vector<int> mul(vector<int> &A, int b)
  {
      vector<int> C;
  
      int t = 0;
      for (int i = 0; i < A.size() || t; i ++ )
      {
          if (i < A.size()) t += A[i] * b;
          C.push_back(t % 10);
          t /= 10;
      }
  
      while (C.size() > 1 && C.back() == 0) C.pop_back();
  
      return C;
  }
  ```

  



### 四、高精度除法

- **思路：**

  1. A/b ,A的每一位单独除以b，结果添加到C数组中，用余数乘10加上下一位数，继续除以b
  2. 清除高位的0

- **模板：**

  ```c++
  // A / b = C ... r, A >= 0, b > 0
  vector<int> div(vector<int> &A, int b, int &r)
  {
      vector<int> C;
      r = 0;
      for (int i = A.size() - 1; i >= 0; i -- )
      {
          r = r * 10 + A[i];
          C.push_back(r / b);
          r %= b;
      }
      reverse(C.begin(), C.end());
      while (C.size() > 1 && C.back() == 0) C.pop_back();
      return C;
  }
  ```



